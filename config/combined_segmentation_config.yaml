# Combined Segmentation Configuration
# This file configures the NARadio-based combined segmentation system

# Object List for Segmentation
# These objects will be encoded into embeddings and used for segmentation
objects:
  - "floor"
  - "ceiling" 
  - "wall"
  - "person"
  - "chair"
  - "table"

# NARadio Model Configuration
naradio:
  model_version: "radio_v2.5-b"
  lang_model: "siglip"
  input_resolution: 512
  enable_visualization: true
  batch_size: 4  # Number of words to encode at once

# Segmentation Processing Parameters
segmentation:
  # Similarity computation
  apply_softmax: true  # Apply softmax across words for better segmentation
  normalize_features: true  # Normalize features for cosine similarity
  
  # DBSCAN clustering for refinement
  enable_dbscan: true
  dbscan_eps: 0.3
  dbscan_min_samples: 5
  
  # Color mapping for visualization
  colors:
    - [255, 0, 0]      # Red
    - [0, 255, 0]      # Green  
    - [0, 0, 255]      # Blue
    - [255, 255, 0]    # Yellow
    - [255, 0, 255]    # Magenta
    - [0, 255, 255]    # Cyan
    - [255, 128, 0]    # Orange
    - [128, 0, 255]    # Purple
    - [128, 128, 0]    # Olive
    - [0, 128, 128]    # Teal
    - [128, 0, 128]    # Maroon
    - [255, 165, 0]    # Orange Red
    - [75, 0, 130]     # Indigo
    - [240, 230, 140]  # Khaki
    - [255, 20, 147]   # Deep Pink

# Processing Settings
processing:
  # Memory management
  clear_cache_interval: 30.0  # Clear GPU cache every 30 seconds
  memory_fraction: 0.8  # Use 80% of available GPU memory
  
  # Processing frequency
  processing_rate: 10.0  # Hz - how often to process segmentation
  
  # Quality settings
  min_similarity_threshold: 0.1  # Minimum similarity score to consider
  max_objects_per_frame: 15  # Maximum number of objects to segment

# Output Configuration
output:
  # Publishers
  publish_original_mask: true
  publish_refined_mask: true
  publish_color_legend: true
  
  # Image encoding
  mask_encoding: "rgb8"
  
  # Save settings
  save_masks_to_buffer: true
  save_metadata: true

# Debug and Logging
debug:
  enable_timing: true
  print_memory_usage: true
  verbose_processing: false
  log_similarity_scores: false 